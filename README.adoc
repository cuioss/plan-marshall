= Plan Marshall
:toc: left
:toclevels: 2
:sectnums:

[CAUTION]
====
**Under Development. Not released yet. Alpha-Version**
====

[.discrete]
== Status

image:https://github.com/cuioss/plan-marshall/actions/workflows/python-verify.yml/badge.svg[Python Verify,link=https://github.com/cuioss/plan-marshall/actions/workflows/python-verify.yml]

[.discrete]
== What is it?

An orchestration layer for AI coding assistants (currently Claude Code) that enforces consistency, reliability, and more predictable outputs. 

== Prerequisites

[IMPORTANT]
====
**Python 3 is required** and must be available as `python3` in your PATH.

Verify with:
[source,bash]
----
python3 --version
----
====

== Installation

Add the Plan Marshall marketplace to Claude Code:

[source,bash]
----
/plugin
->   3. Add marketplace
->   "https://github.com/cuioss/plan-marshall/marketplace"
----

Then install the desired bundles using Claude Code's plugin tooling.

== Getting Started

After installing the marketplace, run the setup wizard:

[source,bash]
----
/marshall-steward
----

See <<_marshall_steward>> for details on what this command configures.

== Core Commands

=== /marshall-steward

Project configuration wizard for the planning system.

[source,bash]
----
/marshall-steward           # Interactive menu or first-run wizard
/marshall-steward --wizard  # Force first-run wizard
----

**First-Run Wizard** (when executor missing):

1. Configures `.gitignore` for `.plan/` directory
2. Generates script executor with all script mappings
3. Discovers project modules via extension API
4. Initializes `marshal.json` configuration
5. Configures skill domains based on project structure
6. Detects CI provider and tools

**Interactive Menu** (returning users):

* **Maintenance** - Regenerate executor, clean logs
* **Health Check** - Verify setup, diagnose issues
* **Configuration** - Build systems, skill domains

=== /plan-manage

Manage task plans - create, list, outline, and cleanup.

[source,bash]
----
/plan-manage                # Interactive menu
/plan-manage list           # List all plans
/plan-manage create         # Create new plan
/plan-manage cleanup        # Remove completed plans
----

**Plan Lifecycle**:

1. **Init** - Create plan directory with request document
2. **Outline** - Generate solution outline with deliverables
3. **Plan** - Transform deliverables into executable tasks
4. **Execute** - Run tasks sequentially with skill loading
5. **Finalize** - Complete with git workflow and PR

== Project Structure

After setup, Plan Marshall creates:

----
.plan/
├── execute-script.py           # Script executor (generated)
├── marshal.json                # Project configuration
├── run-configuration.json      # Runtime settings
├── project-architecture/       # Module analysis
│   ├── derived-data.json       # Raw discovery data
│   └── llm-enriched.json       # Enriched module info
└── plans/                      # Active plans
    └── {plan-id}/
        ├── request.md          # Plan request
        ├── config.toon         # Plan config
        ├── status.toon         # Plan status
        └── TASK-*.toon         # Task files
----

== Available Bundles

[cols="1,3"]
|===
|Bundle |Purpose

|`plan-marshall`
|Core infrastructure, permissions, script execution

|`pm-workflow`
|5-phase planning workflow, task execution

|`pm-dev-java`
|Java development standards and agents

|`pm-dev-frontend`
|JavaScript/CSS standards and tooling

|`pm-documents`
|AsciiDoc documentation standards

|`pm-plugin-development`
|Marketplace component development

|`pm-requirements`
|Requirements engineering standards
|===

See individual bundle READMEs in `marketplace/bundles/*/README.md` for details.

== Support

* Report issues: https://github.com/cuioss/plan-marshall/issues
* Bundle documentation: `marketplace/bundles/*/README.md`
